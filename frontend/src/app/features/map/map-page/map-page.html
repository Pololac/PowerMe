<div class="relative">
  <app-map-view (locationSelected)="onLocationSelected($event)"></app-map-view>

  <!-- Overlay UI -->
  <div class="absolute md:top-8 top-4 md:left-10 md:-translate-x-0 left-1/2 -translate-x-1/2 z-40">
    <div class="w-[360px] md:w-[450px]">
      <app-search-location></app-search-location>
    </div>

    <!-- Modales -->
    <div class="relative mt-4 md:flex md:items-start md:gap-4">
      @if (selectedLocationId() !== null) {
        <!-- Charging Location (toujours visible) -->
        <div class="relative z-10 w-[340px] max-w-full">
          <app-charging-location-modal (stationSelected)="onStationSelected($event)" />
        </div>

        <!-- BookingFlow -->
        @if (bookingOpen()) {
        <div class="fixed inset-0 z-20 md:static md:inset-auto">
          <app-booking-flow
            [locationId]="selectedLocationId()!"
            (flowClosed)="closeBooking()"
          />
        </div>
        }
      }
    </div>
  </div>
</div>
