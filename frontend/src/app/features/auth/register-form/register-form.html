<form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6">
  <div class="space-y-5">
    <!-- Email -->
    <div>
      <label class="form-label text-xl md:text-2xl" for="email">Email</label>
      <input
        id="email"
        type="email"
        formControlName="email"
        class="form-input"
        placeholder="email@exemple.com"
      />

      <!-- Error message -->
      @if (f.email.invalid && (f.email.touched || f.email.dirty)) {
        <p id="email-error" class="form-error" role="alert">
          @if (f.email.errors?.['required']) {
            L'email est requis.
          }
          @if (f.email.errors?.['email']) {
            Veuillez saisir un email valide.
          }
        </p>
      }
    </div>

    <!-- Password -->
    <div class="form-group">
      <label class="form-label text-xl md:text-2xl" for="password">Mot de passe</label>
      <input
        id="password"
        type="password"
        formControlName="password"
        class="form-input"
        placeholder="Votre mot de passe"
      />
      <!-- Error message -->
      @if (f.password.invalid && (f.password.dirty || f.password.touched)) {
        <p id="password-error" class="form-error" role="alert">
          @if (f.password.errors?.['required']) {
            Le mot de passe est requis.
          }
          @if (f.password.errors?.['minlength']) {
            Le mot de passe doit contenir au moins 8 caractères.
          }
          @if (f.password.errors?.['maxlength']) {
            Le mot de passe doit faire moins de 64 caractères.
          }
        </p>
      }
    </div>

    <!-- Password de confirmation -->
    <div class="form-group">
      <label class="form-label text-xl md:text-2xl" for="password">Confirmer le mot de passe</label>
      <input
        id="confirmPassword"
        type="password"
        formControlName="confirmPassword"
        class="form-input"
        placeholder="Ressaissez le mot de passe"
      />
      <!-- Error messages -->
      @if (
        f.confirmPassword.errors?.['required'] &&
        (f.confirmPassword.dirty || f.confirmPassword.touched)
      ) {
        <p id="confirmPassword-error" class="form-error" role="alert">La confirmation est requise.</p>
      }
      @if (
        form.errors?.['passwordMismatch'] && (f.confirmPassword.dirty || f.confirmPassword.touched)
      ) {
        <p class="form-error" role="alert">Les mots de passe ne correspondent pas.</p>
      }
    </div>
  </div>

  <!-- Button -->
  <button
    type="submit"
    class="pm-btn pm-btn--primary pm-btn--auth w-full"
    [disabled]="form.invalid || loading()"
  >
    S'enregistrer
  </button>
</form>
