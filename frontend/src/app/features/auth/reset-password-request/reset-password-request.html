<app-auth-layout>
  <h2 class="mb-6 text-center">Mot de passe oublié</h2>

  <div class="mx-auto w-full md:px-18">
    <p class="mb-8 text-center text-neutral-grey2">
      Saisissez votre adresse email. Si elle existe, un lien de réinitialisation vous sera envoyé.
    </p>

    @if (submitted()) {
      <div class="alert alert-success text-center">
        Si l’email existe, un lien de renouvellement a été envoyé.
      </div>
    } @else {
      <div class="space-y-6">
        <div class="form-group">
          <label class="form-label" for="email">Email</label>
          <input
            id="email"
            type="email"
            class="form-input"
            placeholder="email@exemple.com"
            [value]="email()"
            (input)="email.set($any($event.target).value); invalidEmail.set(false)"
          />

          @if (invalidEmail()) {
            <p class="form-error">Format d’email invalide.</p>
          }
        </div>

        <button
          type="button"
          class="pm-btn pm-btn--primary pm-btn--auth w-full"
          [disabled]="loading()"
          (click)="submit()"
        >
          Envoyer le lien
        </button>
      </div>
    }

    <div class="mt-6 text-center">
      <a routerLink="/login" class="text-blue-400 hover:text-blue-500"> Retour à la connexion </a>
    </div>
  </div>
</app-auth-layout>
